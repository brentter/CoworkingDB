- content_for :head do
  =javascript_include_tag 'Coworking.Searcher.js'

#searcher
  #map
  %p
    Type in an address, hit 'geocode', see what happens
  %input#searchField(type="textbox" value="1410 E Pine St, 98122")
  %input(type="submit" value="Geocode" onclick="searcher.update()")
  #searchStatus

  %br

  #searchResults
    %input#lat{:type => 'textbox'}
    %input#long{:type => 'textbox'}
    %input#address{:type => 'textbox'}

:javascript
  var searcher;
  $(document).ready(function() {
    searcher = new Coworking.Searcher('#searchField', '#searchStatus', '#address', '#lat', '#long', application.getMap().getGoogMap());
    searcher.update();

    $("#searchField").keyup(function(event) {
      if (event.keyCode == 13) {
        searcher.update();
      }
    });
  });
